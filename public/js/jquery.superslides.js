!/*! Superslides - v0.6.2 - 2013-07-10
* https://github.com/nicinabox/superslides
* Copyright (c) 2013 Nic Aitch; Licensed MIT */ function(c,$){var b,a="superslides";(b=function(d,e){this.options=$.extend({play:6e3,animation_speed:3e3,animation_easing:"linear",animation:"fade",inherit_width_from:c,inherit_height_from:c,pagination:!0,hashchange:!1,scrollable:!0,elements:{preserve:".preserve",nav:".slides-navigation",container:".slides-container",pagination:".slides-pagination"}},e);var a=this,f=$("<div>",{class:"slides-control"}),i=1;this.$el=$(d),this.$container=this.$el.find(this.options.elements.container);var g=function(){return i=a._findMultiplier(),a.$el.on("click",a.options.elements.nav+" a",function(b){b.preventDefault(),a.stop(),$(this).hasClass("next")?a.animate("next",function(){a.start()}):a.animate("prev",function(){a.start()})}),$(document).on("keyup",function(b){37===b.keyCode&&a.animate("prev"),39===b.keyCode&&a.animate("next")}),$(c).on("resize",function(){setTimeout(function(){var b=a.$container.children();a.width=a._findWidth(),a.height=a._findHeight(),b.css({width:a.width,left:a.width}),a.css.containers(),a.css.images()},10)}),$(c).on("hashchange",function(){var c,b=a._parseHash();(c=b&&!isNaN(b)?a._upcomingSlide(b-1):a._upcomingSlide(b))>=0&&c!==a.current&&a.animate(c)}),a.pagination._events(),a.start(),a},h={containers:function(){a.init?(a.$el.css({height:a.height}),a.$control.css({width:a.width*i,left:-a.width}),a.$container.css({})):($("body").css({margin:0}),a.$el.css({position:"relative",overflow:"hidden",width:"100%",height:a.height}),a.$control.css({position:"relative",transform:"translate3d(0)",height:"100%",width:a.width*i,left:-a.width}),a.$container.css({display:"none",margin:"0",padding:"0",listStyle:"none",position:"relative",height:"100%"})),1===a.size()&&a.$el.find(a.options.elements.nav).hide()},images:function(){var b=a.$container.find("img").not(a.options.elements.preserve);b.removeAttr("width").removeAttr("height").css({"-webkit-backface-visibility":"hidden","-ms-interpolation-mode":"bicubic",position:"absolute",left:"0",top:"0","z-index":"-1","max-width":"none"}),b.each(function(){var b=a.image._aspectRatio(this),c=this;if($.data(this,"processed"))a.image._scale(c,b),a.image._center(c,b);else{var d=new Image;d.onload=function(){a.image._scale(c,b),a.image._center(c,b),$.data(c,"processed",!0)},d.src=this.src}})},children:function(){var b=a.$container.children();b.is("img")&&(b.each(function(){if($(this).is("img")){$(this).wrap("<div>");var a=$(this).attr("id");$(this).removeAttr("id"),$(this).parent().attr("id",a)}}),b=a.$container.children()),a.init||b.css({display:"none",left:2*a.width}),b.css({position:"absolute",overflow:"hidden",height:"100%",width:a.width,top:0,zIndex:0})}},b={slide:function(b,d){var c=a.$container.children();c.eq(b.upcoming_slide).css({left:b.upcoming_position,display:"block"}),a.$control.animate({left:b.offset},a.options.animation_speed,a.options.animation_easing,function(){a.size()>1&&(a.$control.css({left:-a.width}),c.eq(b.upcoming_slide).css({left:a.width,zIndex:2}),b.outgoing_slide>=0&&c.eq(b.outgoing_slide).css({left:a.width,display:"none",zIndex:0})),d()})},fade:function(a,e){var b=this,c=b.$container.children(),f=c.eq(a.outgoing_slide),d=c.eq(a.upcoming_slide);d.css({left:this.width,opacity:1,display:"block"}),a.outgoing_slide>=0?f.animate({opacity:0},b.options.animation_speed,b.options.animation_easing,function(){b.size()>1&&(c.eq(a.upcoming_slide).css({zIndex:2}),a.outgoing_slide>=0&&c.eq(a.outgoing_slide).css({opacity:1,display:"none",zIndex:0})),e()}):(d.css({zIndex:2}),e())}};return b=$.extend(b,$.fn.superslides.fx),this.css=h,this.image={_centerY:function(c){var b=$(c);b.css({top:(a.height-b.height())/2})},_centerX:function(c){var b=$(c);b.css({left:(a.width-b.width())/2})},_center:function(b){a.image._centerX(b),a.image._centerY(b)},_aspectRatio:function(a){if(!a.naturalHeight&&!a.naturalWidth){var b=new Image;b.src=a.src,a.naturalHeight=b.height,a.naturalWidth=b.width}return a.naturalHeight/a.naturalWidth},_scale:function(c,b){b=b||a.image._aspectRatio(c);var e=a.height/a.width,d=$(c);e>b?d.css({height:a.height,width:a.height/b}):d.css({height:a.width*b,width:a.width})}},this.pagination={_setCurrent:function(c){if(a.$pagination){var b=a.$pagination.children();b.removeClass("current"),b.eq(c).addClass("current")}},_addItem:function(c){var b=c+1,d=a.$container.children().eq(c).attr("id");d&&(b=d),$("<a>",{href:"#"+b,text:b}).appendTo(a.$pagination)},_setup:function(){if(a.options.pagination&&1!==a.size()){var c=$("<nav>",{class:a.options.elements.pagination.replace(/^\./,"")});a.$pagination=c.appendTo(a.$el);for(var b=0;b<a.size();b++)a.pagination._addItem(b)}},_events:function(){a.$el.on("click",a.options.elements.pagination+" a",function(c){c.preventDefault();var d=a._parseHash(this.hash),b=a._upcomingSlide(d-1);b!==a.current&&a.animate(b,function(){a.start()})})}},this.fx=b,this.animation=this.fx[this.options.animation],this.$control=this.$container.wrap(f).parent(".slides-control"),a._findPositions(),a.width=a._findWidth(),a.height=a._findHeight(),this.css.children(),this.css.containers(),this.css.images(),this.pagination._setup(),g()}).prototype={_findWidth:function(){return $(this.options.inherit_width_from).width()},_findHeight:function(){return $(this.options.inherit_height_from).height()},_findMultiplier:function(){return 1===this.size()?1:3},_upcomingSlide:function(a){if(/next/.test(a))return this._nextInDom();if(/prev/.test(a))return this._prevInDom();if(/\d/.test(a))return+a;if(!(a&&/\w/.test(a)))return 0;var b=this._findSlideById(a);return b>=0?b:0},_findSlideById:function(a){return this.$container.find("#"+a).index()},_findPositions:function(b,a){void 0===b&&(b=-1),(a=a||this).current=b,a.next=a._nextInDom(),a.prev=a._prevInDom()},_nextInDom:function(){var a=this.current+1;return a===this.size()&&(a=0),a},_prevInDom:function(){var a=this.current-1;return a<0&&(a=this.size()-1),a},_parseHash:function(a){return(a=(a=a||c.location.hash).replace(/^#/,""))&&!isNaN(+a)&&(a=+a),a},size:function(){return this.$container.children().length},destroy:function(){return this.$el.removeData()},update:function(){this.css.children(),this.css.containers(),this.css.images(),this.pagination._addItem(this.size()),this._findPositions(this.current),this.$el.trigger("updated.slides")},stop:function(){clearInterval(this.play_id),delete this.play_id,this.$el.trigger("stopped.slides")},start:function(){var a=this;a.options.hashchange?$(c).trigger("hashchange"):this.animate(),this.options.play&&(this.play_id&&this.stop(),this.play_id=setInterval(function(){a.animate()},this.options.play)),this.$el.trigger("started.slides")},animate:function(d,g){var b=this,a={};if(!this.animating&&(this.animating=!0,void 0===d&&(d="next"),a.upcoming_slide=this._upcomingSlide(d),!(a.upcoming_slide>=this.size()))){if(a.outgoing_slide=this.current,a.upcoming_position=2*this.width,a.offset=-a.upcoming_position,("prev"===d||d<a.outgoing_slide)&&(a.upcoming_position=0,a.offset=0),b.size()>1&&b.pagination._setCurrent(a.upcoming_slide),b.options.hashchange){var f=a.upcoming_slide+1,e=b.$container.children(":eq("+a.upcoming_slide+")").attr("id");e?c.location.hash=e:c.location.hash=f}b.$el.trigger("animating.slides",[a]),b.animation(a,function(){b._findPositions(a.upcoming_slide,b),"function"==typeof g&&g(),b.animating=!1,b.$el.trigger("animated.slides"),b.init||(b.$el.trigger("init.slides"),b.init=!0,b.$container.fadeIn("fast"))})}}},$.fn[a]=function(d,e){var c=[];return this.each(function(){var g,f,h;if(f=(g=$(this)).data(a),h="object"==typeof d&&d,f||(c=g.data(a,f=new b(this,h))),"string"==typeof d&&"function"==typeof(c=f[d]))return c=c.call(f,e)}),c},$.fn[a].fx={}}(this,jQuery),$("#slides").superslides()